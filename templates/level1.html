<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–£—Ä–æ–≤–µ–Ω—å 1 - –®–∫–æ–ª—å–Ω—ã–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body class="level-screen">
    <div class="container">
        <h2>–£—Ä–æ–≤–µ–Ω—å 1: –®–∫–æ–ª—å–Ω—ã–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è</h2>
        <p class="question">–ú–æ–π –ª—é–±–∏–º—ã–π —à–∫–æ–ª—å–Ω—ã–π –º–æ–º–µ–Ω—Ç —Å —Ç–æ–±–æ–π?</p>

<div class="options options-same-color">
    <div class="option-with-photo" data-answer="–≤—ã–ø—É—Å–∫–Ω–æ–π">
        <div class="option-photo-container image-box">
            <img src="{{ url_for('static', filename='image/graduation.jpg') }}" alt="–í—ã–ø—É—Å–∫–Ω–æ–π" class="fill-max-size">
        </div>
        <button class="option-btn">–í—ã–ø—É—Å–∫–Ω–æ–π</button>
    </div>

    <div class="option-with-photo" data-answer="—Ñ–æ—Ç–æ—Å–µ—Å—Å–∏—è –Ω–∞ –∞–ª—å–±–æ–º">
        <div class="option-photo-container image-box">
            <img src="{{ url_for('static', filename='image/photosession.jpg') }}" alt="–§–æ—Ç–æ—Å–µ—Å—Å–∏—è" class="fill-max-size">
        </div>
        <button class="option-btn">–§–æ—Ç–æ—Å–µ—Å—Å–∏—è –Ω–∞ –∞–ª—å–±–æ–º</button>
    </div>

    <div class="option-with-photo correct-option" data-answer="–Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π –∫–≤–Ω">
        <div class="option-photo-container image-box">
            <img src="{{ url_for('static', filename='image/kvn.jpg') }}" alt="–ö–í–ù" class="fill-max-size">
        </div>
        <button class="option-btn">–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –ö–í–ù</button>
    </div>

    <div class="option-with-photo" data-answer="–≤—ã–¥–∞—á–∞ –∞—Ç—Ç–µ—Å—Ç–∞—Ç–æ–≤">
        <div class="option-photo-container image-box">
            <img src="{{ url_for('static', filename='image/certificates.jpg') }}" alt="–ê—Ç—Ç–µ—Å—Ç–∞—Ç—ã" class="fill-max-size">
        </div>
        <button class="option-btn">–í—ã–¥–∞—á–∞ –∞—Ç—Ç–µ—Å—Ç–∞—Ç–æ–≤</button>
    </div>
</div>

        <div id="feedback" class="feedback"></div>

        <div id="photo-gallery" style="display:none;">
            <div class="key-animation">üîë</div>
            <p class="success-message">–ü—Ä–∞–≤–∏–ª—å–Ω–æ! —É–º–Ω–∏—á–∫–∞ –º–æ–π</p>

            <p class="caption">–±—ã–ª–æ –≤–µ—Å–µ–ª–æ –∫—Ä–∞—Å–∏—Ç—å —Ç–µ–±—è :)</p>

            <a href="{{ url_for('level', level=2) }}" class="btn">–ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—é</a>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    <script>
        document.querySelectorAll('.option-with-photo').forEach(option => {
            const button = option.querySelector('.option-btn');
            button.addEventListener('click', function() {
                const answer = option.getAttribute('data-answer');
                const isCorrect = option.classList.contains('correct-option');
                const feedback = document.getElementById('feedback');
                const gallery = document.getElementById('photo-gallery');

                if (isCorrect) {
                    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
                    fetch('/level/1', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/x-www-form-urlencoded',
                        },
                        body: 'answer=' + encodeURIComponent(answer)
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.correct) {
                            feedback.innerHTML = '<p class="correct-feedback">–ü—Ä–∞–≤–∏–ª—å–Ω–æ! –≠—Ç–æ –±—ã–ª–æ —Ç–∞–∫ –≤–µ—Å–µ–ª–æ!</p>';
                            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–∞–ª–µ—Ä–µ—é —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
                            setTimeout(() => {
                                gallery.style.display = 'block';
                                gallery.style.animation = 'fadeIn 1s ease';
                            }, 800);
                        }
                    });
                } else {
                    feedback.innerHTML = '<p class="wrong-feedback">–ù—É —Ç—ã —á–æ, –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ... –ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑!</p>';
                }
            });
        });
    </script>
</body>
</html>